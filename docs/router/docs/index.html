<!doctype html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv='X-UA-Compatible' content='IE=edge;chrome=1' />
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

    <meta name="google-site-verification" content="qjqVOvRhHfsuDbLOvaAnj2mkUZJ9Xwzg84TMVXduvUc" />

    <meta charset="UTF-8">
    <title>Hyperloop</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <script src="https://unpkg.com/react@15/dist/react.min.js"></script>
    <script src="https://unpkg.com/react-dom@15/dist/react-dom.min.js"></script>

    <script src="https://code.jquery.com/jquery-2.1.4.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/marked/0.3.5/marked.min.js"></script>


    <!-- Opal and Hyperloop -->
    <script src="http://cdn.opalrb.org/opal/current/opal.min.js"></script>
    <script src="https://rawgit.com/ruby-hyperloop/hyperloop-js/master/dist/opal.min.js"></script>
    <script src="https://rawgit.com/ruby-hyperloop/hyperloop-js/master/dist/hyperloop.min.js"></script>
    <script src="https://rawgit.com/ruby-hyperloop/hyperloop-js/master/dist/hyperloop-compiler.min.js"></script>


    <!-- If you want local copies... -->
    <!-- <script src="../../../javascripts/opal-compiler.js"></script> -->
    <!-- <script src="../../../javascripts/hyperloop.js"></script> -->

    <script src="https://npmcdn.com/tether@1.2.4/dist/js/tether.min.js"></script>

    <script src="../../../javascripts/bootstrap.min.js"></script>
    <script src="../../../javascripts/codemirror.js"></script>
    <script src="../../../javascripts/ruby.js"></script>
    <script src="../../../javascripts/matchbrackets.js"></script>
    <script src="../../../javascripts/react_player.js"></script>
    <script src="../../../javascripts/highlight.pack.js"></script>


    <!-- Components are compiled by Hyperloop Express -->
    <script type="text/ruby">

class CodeMirror < Hyperloop::Component
  param :code, type: String
  param :heading, default: "Code"
  param :rows, type: Integer, default: 0
  param :top_level_component, type: String

  before_mount do
    r=rand(2**256).to_s(36)[0..7]
    @div_code = "code_#{r}"
    @div_result = "result_#{r}"
  end

  after_mount do
  # puts params.code
    @editor = `CodeMirror(document.getElementById(#{@div_code}), {
      value: #{params.code.to_s},
      mode: 'text/x-ruby',
      matchBrackets: true,
      lineNumbers: false,
      indentUnit: 2,
      theme: 'github'
    });`

    `#{@editor}.on('change', #{lambda {on_change} })`
    `#{@editor}.setSize(null, #{@editor}.defaultTextHeight()*#{params.rows})` unless params.rows == 0
    execute_code
  end

  render(DIV) do
    div.card {
      div.card_header { params.heading }
      div(id: @div_code)
      div.card_header do
        img(src: '../../../images/hyperloop-logo-small-white.png' , width:'25')
        span { ' ' }
        'Live editor results'
      end
      div.card_block(id: @div_result)
    }
  end

  def on_change
    execute_code
  end

  def execute_code
    begin
      code = `#{@editor}.getValue()`
      # puts code
      code += "\nElement['##{@div_result}'].render(#{params.top_level_component})"
      compiled_code = Opal::Compiler.new(code).compile

      `ReactDOM.unmountComponentAtNode(document.getElementById(#{@div_result}));`

      # Dispatchers and Receivers example works but Steps example breaks
      # Hyperloop::Context.reset!
      # `eval(#{compiled_code})`
      # Hyperloop::Application::Boot.run()

      # Steps example works but Dispatchers and Receivers example breaks
      `eval(#{compiled_code})`
      Hyperloop::Context.reset!
      Hyperloop::Application::Boot.run()

      component = Module.const_get params.top_level_component
      # we need to see if the component is valid - try checking if it can render static markup
      # the following line generates: `undefined method to_n for SimpleComponent`
      # if React.render_to_static_markup( component ).empty?
      #   invalid_component_message
      # end
    rescue Exception => e
      @time_out = after(0.1) do
        unable_to_compile_message e.message
      end
    end
  end

  def invalid_component_message
    message = div.text_danger do
      h3.text_danger {"Oops, invalid Component..."}
      p { "Your Component has been rejected by React. A valid Component must have a render macro and return just one HTML element." }
    end
    Element["##{@div_result}"].render{ message }
  end

  def unable_to_compile_message reason
    message = div.text_danger do
      h3.text_danger {"Can't compile..."}
      p { reason }
    end
    Element["##{@div_result}"].render{ message }
  end

end

</script>

    <script type="text/ruby">

Document.ready? do
   Element.find('div.codemirror-live-edit').each do |mount_point|
     heading = mount_point.attr('data-heading')
     rows = mount_point.attr('data-rows')
     top_level_component = mount_point.attr('data-top-level-component')
     code = Element[mount_point].find('pre').text.strip
     params = {code: code, top_level_component: top_level_component}
     params = params.merge({heading: heading}) if heading
     params = params.merge({rows: rows.to_i}) if rows
     codemirror_component = Object.const_get('CodeMirror')
     React.render(React.create_element(codemirror_component, params ), mount_point)
   end
end

</script>


    <script type="text/ruby">

class ToggleCodemirror < Hyperloop::Component
  param :code, type: String
  param :heading, default: "Code"
  param :rows, type: Integer, default: 0
  param :top_level_component, type: String
  param :show_code

  before_mount do
    r=rand(2**256).to_s(36)[0..7]
    @div_code = "code_#{r}"
    @div_result = "result_#{r}"
  end

  after_mount do
  # puts params.code
    @editor = `CodeMirror(document.getElementById(#{@div_code}), {
      value: #{params.code.to_s},
      mode: 'text/x-ruby',
      matchBrackets: true,
      lineNumbers: false,
      indentUnit: 2,
      readOnly: true,
      theme: 'github'
    });`

    `#{@editor}.setSize(null, #{@editor}.defaultTextHeight()*#{params.rows})` unless params.rows == 0

    Element['.codediv'].hide('')
    mutate.show_code false
    
  end

  render(DIV) do
    div.card {
      div.card_header do
        div(class: 'row') do
          div(class: 'col-md-6') do
            img(src: '../../../images/hyperloop-logo-small-white.png' , width:'25') 
            span { ' ' }
            span { params.heading }
          end
          div(class: 'col-md-6 align-right') do

            toggle_link
          end
        end
      end

      div(id: @div_code, class: 'codediv') 
    }
  end

  def toggle_link
    
      BUTTON(class: 'btn btn-info btn-sm') do
        state.show_code ? "Click to hide code" : "Click to show code"
      end.on(:click) do |ev|
        mutate.show_code !state.show_code 
        state.show_code ? Element["##{@div_code}"].show('') : Element["##{@div_code}"].hide('')
      end
    
  end

 
end

</script>

    <script type="text/ruby">

Document.ready? do
    Element.find('div.togglecode').each do |mount_point|
        heading = mount_point.attr('data-heading')
        rows = mount_point.attr('data-rows')
        top_level_component = mount_point.attr('data-top-level-component')
        code = Element[mount_point].find('pre').text.strip
        params = {code: code, top_level_component: top_level_component}
        params = params.merge({heading: heading}) if heading
        params = params.merge({rows: rows.to_i}) if rows
        codemirror_component = Object.const_get('ToggleCodemirror')
        React.render(React.create_element(codemirror_component, params ), mount_point)
    end
end

</script>

    <link href="../../../stylesheets/bootstrap.min.css" rel="stylesheet" />
    <link href="../../../stylesheets/typography.css" rel="stylesheet" />
    <link href="../../../stylesheets/override.css" rel="stylesheet" />
    <link href="../../../stylesheets/divtable.css" rel="stylesheet" />
    <!-- <link href="../../../stylesheets/code.css" rel="stylesheet" /> -->
    <link href="../../../stylesheets/github.css" rel="stylesheet" />
    <link href="../../../stylesheets/highlighting.css" rel="stylesheet" />
    <link href="../../../stylesheets/codemirror.css" rel="stylesheet" />
    <link href="../../../stylesheets/monokai-sublime.css" rel="stylesheet" />

    <link rel="alternate" type="application/atom+xml" title="Atom Feed" href="/feed.xml" />

    <!-- Favicons -->

    <link rel="apple-touch-icon" sizes="180x180" href="../../../images/apple-touch-icon.png">
    <link rel="icon" type="image/png" href="../../../images/favicon-32x32.png" sizes="32x32">
    <link rel="icon" type="image/png" href="../../../images/favicon-16x16.png" sizes="16x16">
    <link rel="manifest" href="/images/manifest.json">
    <link rel="mask-icon" href="../../../images/safari-pinned-tab.svg" color="#e81176">
    <meta name="theme-color" content="#ffffff">

  </head>

  <body>
    <div class="navbarbackgroundcolor">
      <div class="container">
        <nav class="navbar navbar-ligh">
  <button class="navbar-toggler hidden-sm-up" type="button" data-toggle="collapse" data-target="#exCollapsingNavbar2" aria-controls="exCollapsingNavbar2" aria-expanded="false" aria-label="Toggle navigation">
    &#9776;
  </button>
  <div class="collapse navbar-toggleable-xs" id="exCollapsingNavbar2">
    <ul class="nav navbar-nav">
      <li class="nav-item">
        <a href="/" class="nav-link"><span class='navfirstletter'>H</span>yperloop</a>
      </li>
      <li class="nav-item">
        <a href="/start/components" class="nav-link active"><span class='navfirstletter'>S</span>tart</a>
      </li>
      <li class="nav-item">
        <a href="/installation" class="nav-link"><span class='navfirstletter'>I</span>nstallation</a>
      </li>
      <li class="nav-item">
        <a href="/tutorials" class="nav-link"><span class='navfirstletter'>T</span>utorials</a>
      </li>
      <li class="nav-item">
        <a href="/gems" class="nav-link"><span class='navfirstletter'>G</span>ems</a>
      </li>
      <li class="nav-item">
        <a href="https://github.com/ruby-hyperloop" class="nav-link"><span class='navfirstletter'>G</span>ithub</a>
      </li>
      <li class="nav-item">
        <a href="/tools" class="nav-link"><span class='navfirstletter'>T</span>ools</a>
      </li>
      <li class="nav-item">
        <a href="/docs/architecture" class="nav-link"><span class='navfirstletter'>D</span>ocs</a>
      </li>
      <li class="nav-item">
        <a href="/help" class="nav-link"><span class='navfirstletter'>H</span>elp</a>
      </li>
      <li class="nav-item">
        <a href="/blog" class="nav-link"><span class='navfirstletter'>B</span>log</a>
      </li>
      <!-- <li class="nav-item">
        <input type="text" name="search" />
      </li> -->
    </ul>
  </div>
</nav>

      </div>
    </div>





    <div class="jumbotron page-header">
      <div class="container">

        <div class="row hidden-sm-down">
          <div class="col-md-2">
            <div class="hyperlooplogo">
            </div>
          </div>
          <div class="col-md-8">

            <h1 class="display-4 project-name">Hyperloop</h1>

            <h4 class="display-7 project-tagline">

              The Complete Isomorphic Ruby Framework
            </h4>
          </div>

        </div>

        <div class="row hidden-md-up">
          <div class="col-md-3">
            <div class="hyperlooplogo">
            </div>
          </div>
          <div class="col-md-9">
            <h1 class="h1 project-name center-text">Hyperloop</h1>
            </br>
            <h2 class="h5 project-tagline center-text">
              The Complete Isomorphic Ruby Framework
            </h2>
          </div>

        </div>


      </div>
    </div>

    <div class="page-header-underline">
      <div class="container">

      </div>
    </div>

    <div class="container">
      <div class="row">
        <div class="col-md-3 sidenavcol">
          
      <ul class="nav">
        <li class="nav-item"><a href="/docs/architecture">Hyperloop Architecture</a></li>
      </ul>

  <br>


    <ul class="nav">
      <li class="nav-item"><a href="/docs/components/docs">Hyperloop Components</a></li>
    </ul>


  <br>

    <ul class="nav">
      <li class="nav-item"><a href="/docs/stores/docs">Hyperloop Stores</a></li>
    </ul>


  <br>

    <ul class="navtoc">
<li class="navtoc-item">
<a href="#hyperloop-router">Hyperloop Router</a>
<ul class="navtoc">
<li class="navtoc-item">
<a href="#usage">Usage</a>
<ul class="navtoc">
<li class="navtoc-item">
<a href="#dsl">DSL</a>
</li>
<li class="navtoc-item">
<a href="#router">Router</a>
</li>
<li class="navtoc-item">
<a href="#browserrouter-hashrouter-memoryrouter">BrowserRouter, HashRouter, MemoryRouter</a>
</li>
<li class="navtoc-item">
<a href="#staticrouter">StaticRouter</a>
</li>
<li class="navtoc-item">
<a href="#rendering-a-router">Rendering a Router</a>
</li>
<li class="navtoc-item">
<a href="#routes">Routes</a>
</li>
<li class="navtoc-item">
<a href="#switch">Switch</a>
</li>
<li class="navtoc-item">
<a href="#links">Links</a>
</li>
<li class="navtoc-item">
<a href="#navlinks">NavLinks</a>
</li>
<li class="navtoc-item">
<a href="#pre-rendering">Pre-rendering</a>
</li>
</ul>
</li>
<li class="navtoc-item">
<a href="#setup">Setup</a>
<ul class="navtoc">
<li class="navtoc-item">
<a href="#with-rails">With Rails</a>
</li>
</ul>
</li>
</ul>
</li>
</ul>


  <br>

    <ul class="nav">
      <li class="nav-item"><a href="/docs/models/docs">Hyperloop Models</a></li>
    </ul>

  <br>

   <ul class="nav">
      <li class="nav-item"><a href="/docs/operations/docs">Hyperloop Operations</a></li>
  </ul>

  <br>


    <ul class="nav">
      <li class="nav-item"><strong><a href="/docs/policies/docs">Hyperloop Policies</a></strong></li>
    </ul>



          <br>
        </div>
        <div class="col-md-9 main-content">
          <h1 id="hyperloop-router">Hyperloop Router</h1>

<h2 id="usage">Usage</h2>

<p>This is simply a DSL wrapper on <a href="https://github.com/ReactTraining/react-router">react-router</a> v4.x</p>
<pre class="highlight ruby"><code><span class="k">class</span> <span class="nc">AppRouter</span> <span class="o">&lt;</span> <span class="no">Hyperloop</span><span class="o">::</span><span class="no">Router</span>
  <span class="n">history</span> <span class="ss">:browser</span>

  <span class="n">route</span> <span class="k">do</span>
    <span class="no">DIV</span> <span class="k">do</span>
      <span class="no">UL</span> <span class="k">do</span>
        <span class="no">LI</span> <span class="p">{</span> <span class="no">Link</span><span class="p">(</span><span class="s1">'/'</span><span class="p">)</span> <span class="p">{</span> <span class="s1">'Home'</span> <span class="p">}</span> <span class="p">}</span>
        <span class="no">LI</span> <span class="p">{</span> <span class="no">Link</span><span class="p">(</span><span class="s1">'/about'</span><span class="p">)</span> <span class="p">{</span> <span class="s1">'About'</span> <span class="p">}</span> <span class="p">}</span>
      <span class="k">end</span>
      <span class="no">Route</span><span class="p">(</span><span class="s1">'/'</span><span class="p">,</span> <span class="ss">exact: </span><span class="kp">true</span><span class="p">,</span> <span class="ss">mounts: </span><span class="no">Home</span><span class="p">)</span>
      <span class="no">Route</span><span class="p">(</span><span class="s1">'/about'</span><span class="p">,</span> <span class="ss">mounts: </span><span class="no">About</span><span class="p">)</span>
    <span class="k">end</span>
  <span class="k">end</span>
<span class="k">end</span>

<span class="k">class</span> <span class="nc">Home</span> <span class="o">&lt;</span> <span class="no">Hyperloop</span><span class="o">::</span><span class="no">Router</span><span class="o">::</span><span class="no">Component</span>
  <span class="n">render</span><span class="p">(</span><span class="ss">:div</span><span class="p">)</span> <span class="k">do</span>
    <span class="no">H2</span> <span class="p">{</span> <span class="s1">'Home'</span> <span class="p">}</span>
  <span class="k">end</span>
<span class="k">end</span>
</code></pre>
<p>The folks over at react-router have gained a reputation for all their API rewrites, so with v4 we have made some changes to follow. This version is incompatible with previous versions&#39; DSL.</p>

<p>Since react-router migrated back to everything being a component, this makes the DSL very easy to follow if you have already used react-router v4.</p>

<h3 id="dsl">DSL</h3>

<p>Here is the basic JSX example that is used on the <a href="https://reacttraining.com/react-router/">react-router site</a></p>
<pre class="highlight jsx"><code><span class="kr">import</span> <span class="nx">React</span> <span class="nx">from</span> <span class="s1">'react'</span>
<span class="kr">import</span> <span class="p">{</span>
  <span class="nx">BrowserRouter</span> <span class="nx">as</span> <span class="nx">Router</span><span class="p">,</span>
  <span class="nx">Route</span><span class="p">,</span>
  <span class="nx">Link</span>
<span class="p">}</span> <span class="nx">from</span> <span class="s1">'react-router-dom'</span>

<span class="kr">const</span> <span class="nx">BasicExample</span> <span class="o">=</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">(</span>
  <span class="p">&lt;</span><span class="nc">Router</span><span class="p">&gt;</span>
    <span class="p">&lt;</span><span class="nt">div</span><span class="p">&gt;</span>
      <span class="p">&lt;</span><span class="nt">ul</span><span class="p">&gt;</span>
        <span class="p">&lt;</span><span class="nt">li</span><span class="p">&gt;&lt;</span><span class="nc">Link</span> <span class="na">to=</span><span class="s2">"/"</span><span class="p">&gt;</span>Home<span class="p">&lt;/</span><span class="nc">Link</span><span class="p">&gt;&lt;/</span><span class="nt">li</span><span class="p">&gt;</span>
        <span class="p">&lt;</span><span class="nt">li</span><span class="p">&gt;&lt;</span><span class="nc">Link</span> <span class="na">to=</span><span class="s2">"/about"</span><span class="p">&gt;</span>About<span class="p">&lt;/</span><span class="nc">Link</span><span class="p">&gt;&lt;/</span><span class="nt">li</span><span class="p">&gt;</span>
        <span class="p">&lt;</span><span class="nt">li</span><span class="p">&gt;&lt;</span><span class="nc">Link</span> <span class="na">to=</span><span class="s2">"/topics"</span><span class="p">&gt;</span>Topics<span class="p">&lt;/</span><span class="nc">Link</span><span class="p">&gt;&lt;/</span><span class="nt">li</span><span class="p">&gt;</span>
      <span class="p">&lt;/</span><span class="nt">ul</span><span class="p">&gt;</span>

      <span class="p">&lt;</span><span class="nt">hr</span><span class="p">/&gt;</span>

      <span class="p">&lt;</span><span class="nc">Route</span> <span class="nt">exact</span> <span class="na">path=</span><span class="s2">"/"</span> <span class="na">component=</span><span class="si">{</span><span class="nx">Home</span><span class="si">}</span><span class="p">/&gt;</span>
      <span class="p">&lt;</span><span class="nc">Route</span> <span class="na">path=</span><span class="s2">"/about"</span> <span class="na">component=</span><span class="si">{</span><span class="nx">About</span><span class="si">}</span><span class="p">/&gt;</span>
      <span class="p">&lt;</span><span class="nc">Route</span> <span class="na">path=</span><span class="s2">"/topics"</span> <span class="na">component=</span><span class="si">{</span><span class="nx">Topics</span><span class="si">}</span><span class="p">/&gt;</span>
    <span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
  <span class="p">&lt;/</span><span class="nc">Router</span><span class="p">&gt;</span>
<span class="p">)</span>

<span class="kr">const</span> <span class="nx">Home</span> <span class="o">=</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">(</span>
  <span class="p">&lt;</span><span class="nt">div</span><span class="p">&gt;</span>
    <span class="p">&lt;</span><span class="nt">h2</span><span class="p">&gt;</span>Home<span class="p">&lt;/</span><span class="nt">h2</span><span class="p">&gt;</span>
  <span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
<span class="p">)</span>

<span class="kr">const</span> <span class="nx">About</span> <span class="o">=</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">(</span>
  <span class="p">&lt;</span><span class="nt">div</span><span class="p">&gt;</span>
    <span class="p">&lt;</span><span class="nt">h2</span><span class="p">&gt;</span>About<span class="p">&lt;/</span><span class="nt">h2</span><span class="p">&gt;</span>
  <span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
<span class="p">)</span>

<span class="kr">const</span> <span class="nx">Topics</span> <span class="o">=</span> <span class="p">({</span> <span class="nx">match</span> <span class="p">})</span> <span class="o">=&gt;</span> <span class="p">(</span>
  <span class="p">&lt;</span><span class="nt">div</span><span class="p">&gt;</span>
    <span class="p">&lt;</span><span class="nt">h2</span><span class="p">&gt;</span>Topics<span class="p">&lt;/</span><span class="nt">h2</span><span class="p">&gt;</span>
    <span class="p">&lt;</span><span class="nt">ul</span><span class="p">&gt;</span>
      <span class="p">&lt;</span><span class="nt">li</span><span class="p">&gt;&lt;</span><span class="nc">Link</span> <span class="na">to=</span><span class="si">{</span><span class="s2">`${match.url}/rendering`</span><span class="si">}</span><span class="p">&gt;</span>Rendering with React<span class="p">&lt;/</span><span class="nc">Link</span><span class="p">&gt;&lt;/</span><span class="nt">li</span><span class="p">&gt;</span>
      <span class="p">&lt;</span><span class="nt">li</span><span class="p">&gt;&lt;</span><span class="nc">Link</span> <span class="na">to=</span><span class="si">{</span><span class="s2">`${match.url}/components`</span><span class="si">}</span><span class="p">&gt;</span>Components<span class="p">&lt;/</span><span class="nc">Link</span><span class="p">&gt;&lt;/</span><span class="nt">li</span><span class="p">&gt;</span>
      <span class="p">&lt;</span><span class="nt">li</span><span class="p">&gt;&lt;</span><span class="nc">Link</span> <span class="na">to=</span><span class="si">{</span><span class="s2">`${match.url}/props-v-state`</span><span class="si">}</span><span class="p">&gt;</span>Props v. State<span class="p">&lt;/</span><span class="nc">Link</span><span class="p">&gt;&lt;/</span><span class="nt">li</span><span class="p">&gt;</span>
    <span class="p">&lt;/</span><span class="nt">ul</span><span class="p">&gt;</span>

    <span class="p">&lt;</span><span class="nc">Route</span> <span class="na">path=</span><span class="si">{</span><span class="s2">`${match.url}/:topicId`</span><span class="si">}</span> <span class="na">component=</span><span class="si">{</span><span class="nx">Topic</span><span class="si">}</span><span class="p">/&gt;</span>
    <span class="p">&lt;</span><span class="nc">Route</span> <span class="nt">exact</span> <span class="na">path=</span><span class="si">{</span><span class="nx">match</span><span class="p">.</span><span class="nx">url</span><span class="si">}</span> <span class="na">render=</span><span class="si">{</span><span class="p">()</span> <span class="o">=&gt;</span> <span class="p">(</span>
      <span class="p">&lt;</span><span class="nt">h3</span><span class="p">&gt;</span>Please select a topic.<span class="p">&lt;/</span><span class="nt">h3</span><span class="p">&gt;</span>
    <span class="p">)</span><span class="si">}</span><span class="p">/&gt;</span>
  <span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
<span class="p">)</span>

<span class="kr">const</span> <span class="nx">Topic</span> <span class="o">=</span> <span class="p">({</span> <span class="nx">match</span> <span class="p">})</span> <span class="o">=&gt;</span> <span class="p">(</span>
  <span class="p">&lt;</span><span class="nt">div</span><span class="p">&gt;</span>
    <span class="p">&lt;</span><span class="nt">h3</span><span class="p">&gt;</span><span class="si">{</span><span class="nx">match</span><span class="p">.</span><span class="nx">params</span><span class="p">.</span><span class="nx">topicId</span><span class="si">}</span><span class="p">&lt;/</span><span class="nt">h3</span><span class="p">&gt;</span>
  <span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
<span class="p">)</span>

<span class="kr">export</span> <span class="k">default</span> <span class="nx">BasicExample</span>
</code></pre>
<p>And here is the same example in Hyperloop:</p>
<pre class="highlight ruby"><code><span class="k">class</span> <span class="nc">BasicExample</span> <span class="o">&lt;</span> <span class="no">Hyperloop</span><span class="o">::</span><span class="no">Router</span>
  <span class="n">history</span> <span class="ss">:browser</span>

  <span class="n">route</span> <span class="k">do</span>
    <span class="no">DIV</span> <span class="k">do</span>
      <span class="no">UL</span> <span class="k">do</span>
        <span class="no">LI</span> <span class="p">{</span> <span class="no">Link</span><span class="p">(</span><span class="s1">'/'</span><span class="p">)</span> <span class="p">{</span> <span class="s1">'Home'</span> <span class="p">}</span> <span class="p">}</span>
        <span class="no">LI</span> <span class="p">{</span> <span class="no">Link</span><span class="p">(</span><span class="s1">'/about'</span><span class="p">)</span> <span class="p">{</span> <span class="s1">'About'</span> <span class="p">}</span> <span class="p">}</span>
        <span class="no">LI</span> <span class="p">{</span> <span class="no">Link</span><span class="p">(</span><span class="s1">'/topics'</span><span class="p">)</span> <span class="p">{</span> <span class="s1">'Topics'</span> <span class="p">}</span> <span class="p">}</span>
      <span class="k">end</span>

      <span class="no">Route</span><span class="p">(</span><span class="s1">'/'</span><span class="p">,</span> <span class="ss">exact: </span><span class="kp">true</span><span class="p">,</span> <span class="ss">mounts: </span><span class="no">Home</span><span class="p">)</span>
      <span class="no">Route</span><span class="p">(</span><span class="s1">'/about'</span><span class="p">,</span> <span class="ss">mounts: </span><span class="no">About</span><span class="p">)</span>
      <span class="no">Route</span><span class="p">(</span><span class="s1">'/topics'</span><span class="p">,</span> <span class="ss">mounts: </span><span class="no">Topics</span><span class="p">)</span>
    <span class="k">end</span>
  <span class="k">end</span>
<span class="k">end</span>

<span class="k">class</span> <span class="nc">Home</span> <span class="o">&lt;</span> <span class="no">Hyperloop</span><span class="o">::</span><span class="no">Router</span><span class="o">::</span><span class="no">Component</span>
  <span class="n">render</span><span class="p">(</span><span class="ss">:div</span><span class="p">)</span> <span class="k">do</span>
    <span class="no">H2</span> <span class="p">{</span> <span class="s1">'Home'</span> <span class="p">}</span>
  <span class="k">end</span>
<span class="k">end</span>

<span class="k">class</span> <span class="nc">About</span> <span class="o">&lt;</span> <span class="no">Hyperloop</span><span class="o">::</span><span class="no">Router</span><span class="o">::</span><span class="no">Component</span>
  <span class="n">render</span><span class="p">(</span><span class="ss">:div</span><span class="p">)</span> <span class="k">do</span>
    <span class="no">H2</span> <span class="p">{</span> <span class="s1">'About'</span> <span class="p">}</span>
  <span class="k">end</span>
<span class="k">end</span>

<span class="k">class</span> <span class="nc">Topics</span> <span class="o">&lt;</span> <span class="no">Hyperloop</span><span class="o">::</span><span class="no">Router</span><span class="o">::</span><span class="no">Component</span>
  <span class="n">render</span><span class="p">(</span><span class="ss">:div</span><span class="p">)</span> <span class="k">do</span>
    <span class="no">H2</span> <span class="p">{</span> <span class="s1">'Topics'</span> <span class="p">}</span>
    <span class="no">UL</span><span class="p">()</span> <span class="k">do</span>
      <span class="no">LI</span> <span class="p">{</span> <span class="no">Link</span><span class="p">(</span><span class="s2">"</span><span class="si">#{</span><span class="n">match</span><span class="p">.</span><span class="nf">url</span><span class="si">}</span><span class="s2">/rendering"</span><span class="p">)</span> <span class="p">{</span> <span class="s1">'Rendering with React'</span> <span class="p">}</span> <span class="p">}</span>
      <span class="no">LI</span> <span class="p">{</span> <span class="no">Link</span><span class="p">(</span><span class="s2">"</span><span class="si">#{</span><span class="n">match</span><span class="p">.</span><span class="nf">url</span><span class="si">}</span><span class="s2">/components"</span><span class="p">)</span> <span class="p">{</span> <span class="s1">'Components'</span> <span class="p">}</span> <span class="p">}</span>
      <span class="no">LI</span> <span class="p">{</span> <span class="no">Link</span><span class="p">(</span><span class="s2">"</span><span class="si">#{</span><span class="n">match</span><span class="p">.</span><span class="nf">url</span><span class="si">}</span><span class="s2">/props-v-state"</span><span class="p">)</span> <span class="p">{</span> <span class="s1">'Props v. State'</span> <span class="p">}</span> <span class="p">}</span>
    <span class="k">end</span>
    <span class="no">Route</span><span class="p">(</span><span class="s2">"</span><span class="si">#{</span><span class="n">match</span><span class="p">.</span><span class="nf">url</span><span class="si">}</span><span class="s2">/:topic_id"</span><span class="p">,</span> <span class="ss">mounts: </span><span class="no">Topic</span><span class="p">)</span>
    <span class="no">Route</span><span class="p">(</span><span class="n">match</span><span class="p">.</span><span class="nf">url</span><span class="p">,</span> <span class="ss">exact: </span><span class="kp">true</span><span class="p">)</span> <span class="k">do</span>
      <span class="no">H3</span> <span class="p">{</span> <span class="s1">'Please select a topic.'</span> <span class="p">}</span>
    <span class="k">end</span>
  <span class="k">end</span>
<span class="k">end</span>

<span class="k">class</span> <span class="nc">Topic</span> <span class="o">&lt;</span> <span class="no">Hyperloop</span><span class="o">::</span><span class="no">Router</span><span class="o">::</span><span class="no">Component</span>
  <span class="n">render</span><span class="p">(</span><span class="ss">:div</span><span class="p">)</span> <span class="k">do</span>
    <span class="no">H3</span> <span class="p">{</span> <span class="n">match</span><span class="p">.</span><span class="nf">params</span><span class="p">[</span><span class="ss">:topic_id</span><span class="p">]</span> <span class="p">}</span>
  <span class="k">end</span>
<span class="k">end</span>
</code></pre>
<h3 id="router">Router</h3>

<p>This is the base Router class, it can either be inherited or included:</p>
<pre class="highlight ruby"><code><span class="k">class</span> <span class="nc">MyRouter</span> <span class="o">&lt;</span> <span class="no">Hyperloop</span><span class="o">::</span><span class="no">Router</span>
<span class="k">end</span>

<span class="k">class</span> <span class="nc">MyRouter</span> <span class="o">&lt;</span> <span class="no">React</span><span class="o">::</span><span class="no">Component</span><span class="o">::</span><span class="no">Base</span>
  <span class="kp">include</span> <span class="no">Hyperloop</span><span class="o">::</span><span class="no">Router</span><span class="o">::</span><span class="no">Base</span>
<span class="k">end</span>
</code></pre>
<p>With the base Router class, you must specify the history you want to use.</p>

<p>This can be done either using a macro:</p>
<pre class="highlight ruby"><code><span class="k">class</span> <span class="nc">MyRouter</span> <span class="o">&lt;</span> <span class="no">Hyperloop</span><span class="o">::</span><span class="no">Router</span>
  <span class="n">history</span> <span class="ss">:browser</span>
<span class="k">end</span>
</code></pre>
<p>The macro accepts three options: <code>:browser</code>, <code>:hash</code>, or <code>:memory</code>.</p>

<p>Or defining the <code>history</code> method:</p>
<pre class="highlight ruby"><code><span class="k">class</span> <span class="nc">MyRouter</span> <span class="o">&lt;</span> <span class="no">Hyperloop</span><span class="o">::</span><span class="no">Router</span>
  <span class="k">def</span> <span class="nf">history</span>
    <span class="nb">self</span><span class="p">.</span><span class="nf">class</span><span class="p">.</span><span class="nf">browser_history</span>
  <span class="k">end</span>
<span class="k">end</span>
</code></pre>
<h3 id="browserrouter-hashrouter-memoryrouter">BrowserRouter, HashRouter, MemoryRouter</h3>

<p>Using one of these classes automatically takes care of the history for you,
so you don&#39;t need to specify one.
They also can be used by inheritance or inclusion:</p>
<pre class="highlight ruby"><code><span class="k">class</span> <span class="nc">MyRouter</span> <span class="o">&lt;</span> <span class="no">Hyperloop</span><span class="o">::</span><span class="no">HashRouter</span>
<span class="k">end</span>

<span class="k">class</span> <span class="nc">MyRouter</span> <span class="o">&lt;</span> <span class="no">React</span><span class="o">::</span><span class="no">Component</span><span class="o">::</span><span class="no">Base</span>
  <span class="kp">include</span> <span class="no">Hyperloop</span><span class="o">::</span><span class="no">Router</span><span class="o">::</span><span class="no">Hash</span>
<span class="k">end</span>
</code></pre>
<h3 id="staticrouter">StaticRouter</h3>

<p>Static router is a little different, since it doesn&#39;t actually have a history.
These are used under-the-hood for any other Router during prerendering.</p>
<pre class="highlight ruby"><code><span class="k">class</span> <span class="nc">MyRouter</span> <span class="o">&lt;</span> <span class="no">Hyperloop</span><span class="o">::</span><span class="no">StaticRouter</span>
  <span class="n">route</span> <span class="k">do</span>
    <span class="no">DIV</span> <span class="k">do</span>
      <span class="no">Route</span><span class="p">(</span><span class="s1">'/:name'</span><span class="p">,</span> <span class="ss">mounts: </span><span class="no">Greet</span><span class="p">)</span>
    <span class="k">end</span>
  <span class="k">end</span>
<span class="k">end</span>
</code></pre>
<h3 id="rendering-a-router">Rendering a Router</h3>

<p>To render children/routes use the <code>route</code> macro, it is the equivalent to <code>render</code> of a component.</p>
<pre class="highlight ruby"><code><span class="k">class</span> <span class="nc">MyRouter</span> <span class="o">&lt;</span> <span class="no">Hyperloop</span><span class="o">::</span><span class="no">Router</span>
  <span class="p">.</span><span class="nf">.</span><span class="p">.</span>

  <span class="nf">route</span> <span class="k">do</span>
    <span class="no">DIV</span> <span class="k">do</span>
      <span class="no">H1</span> <span class="p">{</span> <span class="s1">'Hello world!'</span> <span class="p">}</span>
    <span class="k">end</span>
  <span class="k">end</span>
<span class="k">end</span>
</code></pre>
<h3 id="routes">Routes</h3>

<p>Routes are no longer defined separately, but are just components you call inside the router/components.</p>
<pre class="highlight ruby"><code><span class="k">class</span> <span class="nc">MyRouter</span> <span class="o">&lt;</span> <span class="no">Hyperloop</span><span class="o">::</span><span class="no">Router</span>
  <span class="p">.</span><span class="nf">.</span><span class="p">.</span>

  <span class="nf">route</span> <span class="k">do</span>
    <span class="no">DIV</span> <span class="k">do</span>
      <span class="no">Route</span><span class="p">(</span><span class="s1">'/'</span><span class="p">,</span> <span class="ss">mounts: </span><span class="no">HelloWorld</span><span class="p">)</span>
    <span class="k">end</span>
  <span class="k">end</span>
<span class="k">end</span>

<span class="k">class</span> <span class="nc">HelloWorld</span> <span class="o">&lt;</span> <span class="no">React</span><span class="o">::</span><span class="no">Component</span><span class="o">::</span><span class="no">Base</span>
  <span class="n">render</span> <span class="k">do</span>
    <span class="no">H1</span> <span class="p">{</span> <span class="s1">'Hello world!'</span> <span class="p">}</span>
  <span class="k">end</span>
<span class="k">end</span>
</code></pre>
<p>The <code>Route</code> method takes a url path, and these options:
- <code>mounts: Component</code> The component you want to mount when routed to
- <code>exact: Boolean</code> When true, the path must match the location exactly
- <code>strict: Boolean</code> When true, the path will only match if the location and path <strong>both</strong> have/don&#39;t have a trailing slash
It can also take a block instead of the <code>mounts</code> option.</p>
<pre class="highlight ruby"><code><span class="k">class</span> <span class="nc">MyRouter</span> <span class="o">&lt;</span> <span class="no">Hyperloop</span><span class="o">::</span><span class="no">Router</span>
  <span class="p">.</span><span class="nf">.</span><span class="p">.</span>

  <span class="nf">route</span> <span class="k">do</span>
    <span class="no">DIV</span> <span class="k">do</span>
      <span class="no">Route</span><span class="p">(</span><span class="s1">'/'</span><span class="p">,</span> <span class="ss">exact: </span><span class="kp">true</span><span class="p">)</span> <span class="k">do</span>
        <span class="no">H1</span> <span class="p">{</span> <span class="s1">'Hello world!'</span> <span class="p">}</span>
      <span class="k">end</span>
    <span class="k">end</span>
  <span class="k">end</span>
<span class="k">end</span>
</code></pre>
<p>The block will give you the match, location, and history data:
```ruby
class MyRouter &lt; Hyperloop::Router
  ...</p>

<p>route do
    DIV do
      Route(&#39;/:name&#39;) do |match, location, history|
        H1 { &quot;Hello #{match.params[:foo]} from #{location.pathname}, click me to go back!&quot; }
          .on(:click) { history.go_back }
      end
    end
  end
end
```</p>

<ul>
<li>It is recommended to inherit from <code>Hyperloop::Router::Component</code> for components mounted by routes.</li>
<li>This automatically sets the <code>match</code>, <code>location</code>, and <code>history</code> params,
and also gives you instance methods with those names.</li>
<li>You can use either <code>params.match</code> or just <code>match</code>.
and gives you access to the Route method and more.</li>
<li>This allows you to create inner routes as you need them.</li>
</ul>
<pre class="highlight ruby"><code><span class="k">class</span> <span class="nc">MyRouter</span> <span class="o">&lt;</span> <span class="no">Hyperloop</span><span class="o">::</span><span class="no">Router</span>
  <span class="p">.</span><span class="nf">.</span><span class="p">.</span>

  <span class="nf">route</span> <span class="k">do</span>
    <span class="no">DIV</span> <span class="k">do</span>
      <span class="no">Route</span><span class="p">(</span><span class="s1">'/:name'</span><span class="p">,</span> <span class="ss">mounts: </span><span class="no">Greet</span><span class="p">)</span>
    <span class="k">end</span>
  <span class="k">end</span>
<span class="k">end</span>

<span class="k">class</span> <span class="nc">Greet</span> <span class="o">&lt;</span> <span class="no">Hyperloop</span><span class="o">::</span><span class="no">Router</span><span class="o">::</span><span class="no">Component</span>
  <span class="n">render</span><span class="p">(</span><span class="no">DIV</span><span class="p">)</span> <span class="k">do</span>
    <span class="no">H1</span> <span class="p">{</span> <span class="s2">"Hello </span><span class="si">#{</span><span class="n">match</span><span class="p">.</span><span class="nf">params</span><span class="p">[</span><span class="ss">:foo</span><span class="p">]</span><span class="si">}</span><span class="s2">!"</span> <span class="p">}</span>
    <span class="no">Route</span><span class="p">(</span><span class="n">match</span><span class="p">.</span><span class="nf">url</span><span class="p">,</span> <span class="ss">exact: </span><span class="kp">true</span><span class="p">)</span> <span class="k">do</span>
      <span class="no">H2</span> <span class="p">{</span> <span class="s1">'What would you like to do?'</span> <span class="p">}</span>
    <span class="k">end</span>
    <span class="no">Route</span><span class="p">(</span><span class="s2">"</span><span class="si">#{</span><span class="n">match</span><span class="p">.</span><span class="nf">url</span><span class="si">}</span><span class="s2">/:activity"</span><span class="p">,</span> <span class="ss">mounts: </span><span class="no">Activity</span><span class="p">)</span>
  <span class="k">end</span>
<span class="k">end</span>

<span class="k">class</span> <span class="nc">Activity</span> <span class="o">&lt;</span> <span class="no">Hyperloop</span><span class="o">::</span><span class="no">Router</span><span class="o">::</span><span class="no">Component</span>
  <span class="n">render</span><span class="p">(</span><span class="no">DIV</span><span class="p">)</span> <span class="k">do</span>
    <span class="no">H2</span> <span class="p">{</span> <span class="n">params</span><span class="p">.</span><span class="nf">match</span><span class="p">.</span><span class="nf">params</span><span class="p">[</span><span class="ss">:activity</span><span class="p">]</span> <span class="p">}</span>
  <span class="k">end</span>
<span class="k">end</span>
</code></pre>
<p>Routes will <strong>always</strong> render alongside sibling routes that match as well.</p>
<pre class="highlight ruby"><code><span class="k">class</span> <span class="nc">MyRouter</span> <span class="o">&lt;</span> <span class="no">Hyperloop</span><span class="o">::</span><span class="no">Router</span>
  <span class="p">.</span><span class="nf">.</span><span class="p">.</span>

  <span class="nf">route</span> <span class="k">do</span>
    <span class="no">DIV</span> <span class="k">do</span>
      <span class="no">Route</span><span class="p">(</span><span class="s1">'/goodbye'</span><span class="p">,</span> <span class="ss">mounts: </span><span class="no">Goodbye</span><span class="p">)</span>
      <span class="no">Route</span><span class="p">(</span><span class="s1">'/:name'</span><span class="p">,</span> <span class="ss">mounts: </span><span class="no">Greet</span><span class="p">)</span>
    <span class="k">end</span>
  <span class="k">end</span>
<span class="k">end</span>
</code></pre>
<h3 id="switch">Switch</h3>

<p>Going to <code>/goodbye</code> would match <code>/:name</code> as well and render <code>Greet</code> with the <code>name</code> param with the value &#39;goodbye&#39;. To avoid this behavior and only render one matching route at a time, use a <code>Switch</code> component.</p>
<pre class="highlight ruby"><code><span class="k">class</span> <span class="nc">MyRouter</span> <span class="o">&lt;</span> <span class="no">Hyperloop</span><span class="o">::</span><span class="no">Router</span>
  <span class="p">.</span><span class="nf">.</span><span class="p">.</span>

  <span class="nf">route</span> <span class="k">do</span>
    <span class="no">DIV</span> <span class="k">do</span>
      <span class="no">Switch</span> <span class="k">do</span>
        <span class="no">Route</span><span class="p">(</span><span class="s1">'/goodbye'</span><span class="p">,</span> <span class="ss">mounts: </span><span class="no">Goodbye</span><span class="p">)</span>
        <span class="no">Route</span><span class="p">(</span><span class="s1">'/:name'</span><span class="p">,</span> <span class="ss">mounts: </span><span class="no">Greet</span><span class="p">)</span>
      <span class="k">end</span>
    <span class="k">end</span>
  <span class="k">end</span>
<span class="k">end</span>
</code></pre>
<p>Now, going to <code>/goodbye</code> would match the <code>Goodbye</code> route first and only render that component.</p>

<h3 id="links">Links</h3>

<p>Links are available to Routers, classes that inherit from <code>HyperLoop::Router::Component</code>, or by including <code>Hyperloop::Router::Mixin</code>.</p>

<p>The <code>Link</code> method takes a url path, and these options:
+ <code>search: String</code> adds the specified string to the search query
+ <code>hash: String</code> adds the specified string to the hash location
it can also take a block of children to render inside it.</p>
<pre class="highlight ruby"><code><span class="k">class</span> <span class="nc">MyRouter</span> <span class="o">&lt;</span> <span class="no">Hyperloop</span><span class="o">::</span><span class="no">Router</span>
  <span class="p">.</span><span class="nf">.</span><span class="p">.</span>

  <span class="nf">route</span> <span class="k">do</span>
    <span class="no">DIV</span> <span class="k">do</span>
      <span class="no">Link</span><span class="p">(</span><span class="s1">'/Gregor Clegane'</span><span class="p">)</span>

      <span class="no">Route</span><span class="p">(</span><span class="s1">'/'</span><span class="p">,</span> <span class="ss">exact: </span><span class="kp">true</span><span class="p">)</span> <span class="p">{</span> <span class="no">H1</span><span class="p">()</span> <span class="p">}</span>
      <span class="no">Route</span><span class="p">(</span><span class="s1">'/:name'</span><span class="p">)</span> <span class="k">do</span> <span class="o">|</span><span class="n">match</span><span class="o">|</span>
        <span class="no">H1</span> <span class="p">{</span> <span class="s2">"Will </span><span class="si">#{</span><span class="n">match</span><span class="p">.</span><span class="nf">params</span><span class="p">[</span><span class="ss">:name</span><span class="p">]</span><span class="si">}</span><span class="s2"> eat all the chickens?"</span> <span class="p">}</span>
      <span class="k">end</span>
    <span class="k">end</span>
  <span class="k">end</span>
<span class="k">end</span>
</code></pre>
<h3 id="navlinks">NavLinks</h3>

<p>NavLinks are the same as Links, but will add styling attributes when it matches the current url
- <code>active_class: String</code> adds the class to the link when the url matches
- <code>active_style: String</code> adds the style to the link when the url matches
- <code>active: Proc</code> A proc that will add extra logic to determine if the link is active</p>
<pre class="highlight ruby"><code><span class="k">class</span> <span class="nc">MyRouter</span> <span class="o">&lt;</span> <span class="no">Hyperloop</span><span class="o">::</span><span class="no">Router</span>
  <span class="p">.</span><span class="nf">.</span><span class="p">.</span>

  <span class="nf">route</span> <span class="k">do</span>
    <span class="no">DIV</span> <span class="k">do</span>
      <span class="no">NavLink</span><span class="p">(</span><span class="s1">'/Gregor Clegane'</span><span class="p">,</span> <span class="ss">active_class: </span><span class="s1">'active-link'</span><span class="p">)</span>
      <span class="no">NavLink</span><span class="p">(</span><span class="s1">'/Rodrik Cassel'</span><span class="p">,</span> <span class="ss">active_style: </span><span class="p">{</span> <span class="ss">color: </span><span class="s1">'grey'</span> <span class="p">})</span>
      <span class="no">NavLink</span><span class="p">(</span><span class="s1">'/Oberyn Martell'</span><span class="p">,</span>
              <span class="ss">active: </span><span class="o">-&gt;</span><span class="p">(</span><span class="n">match</span><span class="p">,</span> <span class="n">location</span><span class="p">)</span> <span class="p">{</span>
                <span class="n">match</span> <span class="o">&amp;&amp;</span> <span class="n">match</span><span class="p">.</span><span class="nf">params</span><span class="p">[</span><span class="ss">:name</span><span class="p">]</span> <span class="o">&amp;&amp;</span> <span class="n">match</span><span class="p">.</span><span class="nf">params</span><span class="p">[</span><span class="ss">:name</span><span class="p">]</span> <span class="o">=~</span> <span class="sr">/Martell/</span>
              <span class="p">})</span>

      <span class="no">Route</span><span class="p">(</span><span class="s1">'/'</span><span class="p">,</span> <span class="ss">exact: </span><span class="kp">true</span><span class="p">)</span> <span class="p">{</span> <span class="no">H1</span><span class="p">()</span> <span class="p">}</span>
      <span class="no">Route</span><span class="p">(</span><span class="s1">'/:name'</span><span class="p">)</span> <span class="k">do</span> <span class="o">|</span><span class="n">match</span><span class="o">|</span>
        <span class="no">H1</span> <span class="p">{</span> <span class="s2">"Will </span><span class="si">#{</span><span class="n">match</span><span class="p">.</span><span class="nf">params</span><span class="p">[</span><span class="ss">:name</span><span class="p">]</span><span class="si">}</span><span class="s2"> eat all the chickens?"</span> <span class="p">}</span>
      <span class="k">end</span>
    <span class="k">end</span>
  <span class="k">end</span>
<span class="k">end</span>
</code></pre>
<h3 id="pre-rendering">Pre-rendering</h3>

<p>Pre-rendering is automatically taken care for you unde the hood, no more need to pass in the url.</p>

<h2 id="setup">Setup</h2>

<p>To setup HyperRouter:</p>

<ul>
<li>Install the gem (if you have installed the <code>hyperloop</code> gem this has already been done)</li>
<li>Your page should render your <code>Hyperloop::Router</code> as its top-level-component (first component to be rendered on the page) - in the example below this would be <code>AppRouter</code></li>
<li>You will need to configure your server to route all unknown routes to the client-side router (Rails example below)</li>
</ul>

<h3 id="with-rails">With Rails</h3>

<p>Assuming your router is called <code>AppRouter</code>, add the following to your <code>routes.rb</code></p>
<pre class="highlight ruby"><code><span class="n">root</span> <span class="s1">'hyperloop#AppRouter'</span> <span class="c1"># see note below</span>
<span class="n">match</span> <span class="s1">'*all'</span><span class="p">,</span> <span class="ss">to: </span><span class="s1">'hyperloop#AppRouter'</span><span class="p">,</span> <span class="ss">via: </span><span class="p">[</span><span class="ss">:get</span><span class="p">]</span> <span class="c1"># this should be the last line of routes.rb</span>
</code></pre>
<p>Note:</p>

<p><code>root &#39;hyperloop#AppRouter&#39;</code> is shorthand which will automagically create a Controller, View and launch <code>AppRouter</code> as the top-level Component. If you are rendering your Component via your own COntroller or View then ignore this line.</p>

        </div>
      </div>
    </div>

    <div class="page-footer-upperline">
      <div class="container">

      </div>
    </div>

    <footer class="nav-footer">
  <section class="sitemap">

    <a href="/" class="nav-home"></a>

    <div>
      <h6><a href="/start/components" class="hyperloop-white">Start</a></h6>
      <a href="/start/components">Components</a>
      <a href="/start/stores">Stores</a>
      <a href="/start/models">Models</a>
      <a href="/start/operations">Operations</a>
      <a href="/start/policies">Policies</a>
      <a href="/start/pragmatic">Pragmatic Thinking</a>
    </div>
    <div>


      <h6><a href="/tutorials" class="hyperloop-white">Tutorials</a></h6>
      <a href="/tutorials/hyperloopcomps">Hyperloop COMPS</a>
      <a href="/tutorials/hyperloopjs">Hyperloop.js</a>
      <a href="/tutorials/hyperlooprails">Hyperloop and Rails</a>
      <a href="/tutorials/hyperloopdeploy">Hyperloop deployment</a>
      <a href="/tutorials/opal">Opal</a>
      <a href="/tutorials/videos">Videos</a>
    </div>
    <div>
      <h6><a href="/installation" class="hyperloop-white">Installation</a></h6>
      <a href="/installation#opal-playground">Hyperloop.js</a>
  	  <a href="/installation#ror">With Ruby On Rails</a>
  	  <a href="/installation#with-sinatra">With Sinatra</a>
  	  <a href="/installation#deployment">Deployment</a>
    </div>
    <div>
      <h6><a href="/gems" class="hyperloop-white">Gems</a></h6>
      <a href="https://github.com/ruby-hyperloop/hyperloop">hyperloop</a>
      <a href="https://github.com/ruby-hyperloop/hyperloop-js">hyperloop-js</a>
      <a href="https://github.com/ruby-hyperloop/hyper-react">hyper-component</a>
      <a href="https://github.com/ruby-hyperloop/hyper-store">hyper-store</a>
      <a href="https://github.com/ruby-hyperloop/hyper-mesh">hyper-model</a>
      <a href="https://github.com/ruby-hyperloop/hyper-operation">hyper-operation</a>
      <a href="https://github.com/ruby-hyperloop/reactrb-router/tree/v2-4-0">hyper-router</a>
      <a href="https://github.com/ruby-hyperloop/hyper-spec">hyper-spec</a>
      <a href="https://github.com/ruby-hyperloop/hyper-trace">hyper-trace</a>
    </div>
    <div>
      <h6><a href="/tools" class="hyperloop-white">Tools</a></h6>
      <a href="#testing">Testing</a>
    	<a href="#tools">Tools</a>
    	<a href="#debugging">Debugging</a>
    </div>
    <div>
      <h6><a href="/docs/architecture" class="hyperloop-white">Docs</a></h6>
      <a href="/docs/architecture">Architecture</a>
      <a href="/docs/components/docs#components-dsl-overview">Components</a>
      <a href="/docs/stores/docs">Stores</a>
      <a href="/docs/models/docs">Models</a>
      <a href="/docs/operations/docs">Operations</a>
      <a href="/docs/policies/docs">Policies</a>
    </div>

  </section>

  <section class="otherlinks">
    <a href="https://github.com/ruby-hyperloop" class="hyperloop-white">Github</a>
    <a href="/support" class="hyperloop-white">Help</a>
    <a href="/blog" class="hyperloop-white">Blog</a>
  </section>

  <section class="copyright">
    Copyright © 2018 Hyperloop.
  </section>
</footer>


    <script>
      (function(Opal) {
        var self = Opal.top, $scope = Opal, nil = Opal.nil, $breaker = Opal.breaker, $slice = Opal.slice;
        Opal.add_stubs(['$puts']);
        return self.$puts("Opal ok")
      })(Opal);
    </script>

    <!-- <script   src="http://code.jquery.com/jquery-3.1.1.min.js"   integrity="sha256-hVVnYaiADRTO2PzUGmuLJr8BLUSjGIZsDYGmIJLv2b8="   crossorigin="anonymous"></script> -->


    <script type="text/ruby">puts "Hyperloop JS ok"</script>




  </body>
</html>
